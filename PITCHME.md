---

ã¾ãšã¯CodeåŒ–ã ï¼

@kaorukit

---

è‡ªå·±ç´¹ä»‹

@kaorukit

[NetOpsCoding](https://github.com/netops-coding/netops-tips/wiki)
ã‹ã‚‰ãã¾ã—ãŸ

---

ä»Šæ—¥è©±ã™ã“ã¨

- ã‚ãªãŸã®æ‰‹é †æ›¸ã‚’CodeåŒ–ã™ã‚‹ã¨ä½•ãŒå¾—ã‚‰ã‚Œã‚‹ã®ã‹
  - ã‚ã‚‹ã„ã¯ä½•ã‚’å¤±ã†ã®ã‹
- (æã‚‰ã)ã‚‚ã£ã¨ã‚‚åŸå§‹çš„ãªCodeåŒ–
- ãã—ã¦ä¼èª¬ã¸...

---

ã•ã„ãã‚“è‡ªå‹•åŒ–ãŒæµè¡Œã£ã¦ã¾ã™ã‚ˆã­

---

ãªã‚“ã§æµè¡Œã£ã¦ã‚‹ã‚“ã§ã™ã‹ã­ï¼Ÿ

- è‡ªåˆ†ãŒæ¥½ã—ãŸã„ï¼Ÿ |
- å°‘ãªã„äººæ•°ã§é‹ç”¨ã‚’å›ã—ãŸã„ï¼Ÿ |
- ãƒ’ãƒ¥ãƒ¼ãƒãƒ³ã‚¨ãƒ©ãƒ¼ã‚’ç„¡ãã—ãŸã„ï¼Ÿ |

---

ãã‚Œã£ã¦è‡ªå‹•åŒ–ã®ãƒ¡ãƒªãƒƒãƒˆã§ã¯ãªãã€

CodeåŒ–ã®ãƒ¡ãƒªãƒƒãƒˆã ã£ãŸã‚Šã—ã¾ã›ã‚“ã‹ï¼Ÿï¼Ÿ

---

ãã†ï¼CodeåŒ–ã§ã™ï¼

---

**CodeåŒ– is ä½•**

ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼ã‹ã‚‰æ©Ÿå™¨ã‚’æ“ä½œã™ã‚‹æ‰‹æ®µ

---

ã‚ã‚Œï¼Ÿ

ã‚¹ã‚¤ãƒƒãƒã®ã‚³ãƒãƒ³ãƒ‰ã‚‚æ©Ÿå™¨ã‚’æ“ä½œã™ã‚‹æ‰‹æ®µã§ã¯ï¼Ÿï¼Ÿ

---

Yes.

ã‚³ãƒãƒ³ãƒ‰ã‚’ä¸¦ã¹ã‚‹ã ã‘ã§ã‚‚ã€ååˆ†ã«CodeåŒ–ã§ã™

```
# ssh admin@192.0.2.1
Password:

switch> ena
Password:

switch# conf t
switch(config)# int gi 1/1
switch(interface)# ip add 198.51.100.1 255.255.255.0
switch(interface)# end
switch# wr mem
switch# exit
```

â€»æœ¬è³‡æ–™ã§ã¯[RFC5737](https://tools.ietf.org/html/rfc5737)ã§å®šç¾©ã•ã‚ŒãŸè³‡æ–™ç”¨IPã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

---

ä»Šæ—¥è©±ã™ã“ã¨

- **ã‚ãªãŸã®æ‰‹é †æ›¸ã‚’CodeåŒ–ã™ã‚‹ã¨ä½•ãŒå¾—ã‚‰ã‚Œã‚‹ã®ã‹**
  - **ã‚ã‚‹ã„ã¯ä½•ã‚’å¤±ã†ã®ã‹**
- (æã‚‰ã)ã‚‚ã£ã¨ã‚‚åŸå§‹çš„ãªCodeåŒ–
- ãã—ã¦ä¼èª¬ã¸...

---

ã‚ãªãŸã®æ‰‹é †æ›¸ã‚’CodeåŒ–ã™ã‚‹ã¨ä½•ãŒå¾—ã‚‰ã‚Œã‚‹ã®ã‹

- å†ç¾æ€§ã®(æ¯”è¼ƒçš„)é«˜ã„æ‰‹é † |

---

- æ‰‹é †æ›¸
  - [äººé–“]ãŒ[æ‰‹é †æ›¸]ã‚’ä½¿ã£ã¦[æ©Ÿå™¨]ã‚’æ“ä½œ

- Code
  - [ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼]ãŒ[Code]ã‚’ä½¿ã£ã¦[æ©Ÿå™¨]ã‚’æ“ä½œ

---

ä¿¡é ¼æ€§

ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼>æ©Ÿå™¨>>>è¶…ãˆã‚‰ã‚Œãªã„å£>>>äººé–“

---

ã§ã¯ä½•ã‚’å¤±ã†ã®ã‹

- äººé–“ãŒã‚ˆã—ãªã«ä½œæ¥­å‡ºæ¥ã‚‹ã€ŒéŠã³ã€ |
- è·äººã€ŒCPUè² è·é«˜ã‚ã ã‹ã‚‰ã€ã‚³ãƒãƒ³ãƒ‰æŠ•å…¥é–“éš”ã‚’å°‘ã—ç©ºã‘ã‚ˆã†ã€ |

---

æŸ”è»Ÿæ€§

äººé–“>>>è¶…ãˆã‚‰ã‚Œãªã„å£>>>ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼=æ©Ÿå™¨

---

CodeåŒ– is æ­£ã—ã„

ã¨ã‚‚é™ã‚‰ãªã„

---

ä½™è«‡

---

The presentation powered by gitpatch.

https://github.com/kaorukit/20180124_janog

---

ãƒ‘ãƒ¯ãƒã¨æ¯”ã¹ã‚‹ã¨ãƒ»ãƒ»ãƒ»

- ã„ã„æ„Ÿã˜ã«ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã—ã¦ãã‚Œã‚‹ã®ã§æ¥½
  - è‡ªåˆ†ã§ç´°ã‹ããƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã™ã‚‹ã®ã«ã¯ä¸å‘ã
- ãƒ†ã‚­ã‚¹ãƒˆãƒ™ãƒ¼ã‚¹ãªã®ã§ã€ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒæ¥½
  - å¤‰æ›´å±¥æ­´ã‚‚è¿½ã„ã‚„ã™ã„
  - ç”»åƒã‚’å…¥ã‚ŒãŸã‚‰ä¸€ç·’ã ã‘ã©ã€‚ã€‚ã€‚

---

é–‘è©±ä¼‘é¡Œ

---

ä»Šæ—¥è©±ã™ã“ã¨

- ã‚ãªãŸã®æ‰‹é †æ›¸ã‚’CodeåŒ–ã™ã‚‹ã¨ä½•ãŒå¾—ã‚‰ã‚Œã‚‹ã®ã‹
  - ã‚ã‚‹ã„ã¯ä½•ã‚’å¤±ã†ã®ã‹
- **(æã‚‰ã)ã‚‚ã£ã¨ã‚‚åŸå§‹çš„ãªCodeåŒ–**
- ãã—ã¦ä¼èª¬ã¸...

---

pexpect

- expectã®pythonãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ |
- äººé–“ãŒè¡Œã†å¯¾è©±å‡¦ç†ã‚’CodeåŒ–ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã‚‹ |

---

ã•ã£ãã®ã‚³ãƒ¬ã‚’CodeåŒ–ã—ã¦ã¿ã¾ã—ã‚‡ã†

```
# ssh admin@192.0.2.1
Password:

switch> ena
Password:

switch# conf t
switch(config)# int gi 1/1
switch(interface)# ip add 198.51.100.1 255.255.255.0
switch(interface)# end
switch# wr mem
switch# exit
```

---

```
import pexpect

ssh_connection = pexpect.spawn(ssh admin@192.168.0.1)

ssh_connection.expect(r"Password:")
ssh_connection.sendline("login_password")

ssh_connection.expect("switch>")
ssh_connection.sendline("ena")

ssh_connection.expect(r"Password:")
ssh_connection.sendline("enable_password")

ssh_connection.expect(r"switch#")
ssh_connection.sendline("conf t")

ssh_connection.expect(r"switch(config)#")
ssh_connection.sendline("int gi 1/1")

ssh_connection.expect(r"switch(interface)#")
ssh_connection.sendline("ip add 198.51.100.1 255.255.255.0")
ssh_connection.sendline("end")

ssh_connection.expect(r"switch#")
ssh_connection.sendline("wr mem")

ssh_connection.expect(r"switch#")
ssh_connection.sendline("exit")

ssh_connection.close()
```

@[1](pexpectãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’import)
@[3](sshã‚»ãƒƒã‚·ãƒ§ãƒ³é–‹å§‹)
@[5](æ©Ÿå™¨ã®æ–‡å­—åˆ—å‡ºåŠ›ã‚’å¾…æ©Ÿ)
@[6](æ–‡å­—åˆ—ã‚’é€ä¿¡)
@[8-28](æ–‡å­—åˆ—å¾…æ©Ÿã‹ã‚‰ã®æ–‡å­—åˆ—é€ä¿¡ã‚’ç¹°ã‚Šè¿”ã™)
@[30](sshã‚»ãƒƒã‚·ãƒ§ãƒ³çµ‚äº†)

---

ã¡ã‚‡ã£ã¨ãƒ€ã‚µã„ã‘ã©

ç›´æ„Ÿçš„ã«ç†è§£å‡ºæ¥ã¾ã™ã‚ˆã­ãƒ»ãƒ»ãƒ»ï¼Ÿ

---

å‡ºæ¥ã‚‹ã¨ã“ã‚ã‹ã‚‰CodeåŒ–ã€ã©ã†ã§ã—ã‚‡ã†ï¼Ÿ

---

ä»Šæ—¥è©±ã™ã“ã¨

- ã‚ãªãŸã®æ‰‹é †æ›¸ã‚’CodeåŒ–ã™ã‚‹ã¨ä½•ãŒå¾—ã‚‰ã‚Œã‚‹ã®ã‹
  - ã‚ã‚‹ã„ã¯ä½•ã‚’å¤±ã†ã®ã‹
- (æã‚‰ã)ã‚‚ã£ã¨ã‚‚åŸå§‹çš„ãªCodeåŒ–
- **ãã—ã¦ä¼èª¬ã¸...**

---

ã‚ãªãŸã€Œãµã‚€ã€‚è‡ªåˆ†ã‚‚ã‚µã‚¯ãƒƒã¨CodeåŒ–å‡ºæ¥ãã†ã ã€‚ã€

---

æ•°æ—¥å¾Œãƒ»ãƒ»ãƒ»

ã‚ãªãŸã€Œã‚ã‚Œï¼Ÿã“ã†ã„ã†å ´åˆã¯ã©ã†ã‚„ã£ã¦CodeåŒ–ã™ã‚Œã°ã„ã„ã‚“ã ï¼Ÿã€

---

å¤©ã®å£°ã€ŒNetOpsCodingã«å‚åŠ ã™ã‚‹ã®ã§ã™ã€

---

NetOpsCodingã®slackã¯[ã“ã¡ã‚‰](https://docs.google.com/forms/d/1PxKlivU7cpjp_unEGyUmjWIzXUv_k6EkeVo-uWv07gY/viewform)ã‹ã‚‰å‚åŠ ã§ãã¾ã™ã€‚

#beginner ã§ã‚¬ãƒ³ã‚¬ãƒ³è³ªå•ã—ã¦ã¿ã¾ã—ã‚‡ã†ï¼

å„ªã—ã„ã‚¬ãƒå‹¢ãŒæ•™ãˆã¦ãã‚Œã¾ã™ã‚ˆï¼

---

ã¿ã‚“ãªã§æ¥½ã—ãCodeåŒ–ã—ã¾ã—ã‚‡ã†ï¼

Let's NetOpsCoding!
